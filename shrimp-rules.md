# ToolHub 개발 가이드라인

## 프로젝트 개요

ToolHub는 Next.js 기반의 웹 애플리케이션으로, 다양한 웹 도구들을 한 곳에서 제공하는 플랫폼입니다. 포모도로 타이머, 코드 포맷터, 색상 선택기 등 여러 유틸리티 도구를 사용자 친화적인 인터페이스로 제공합니다.

### 기술 스택

- **프레임워크**: Next.js (App Router)
- **언어**: TypeScript
- **UI 라이브러리**: Radix UI
- **스타일링**: Tailwind CSS
- **상태 관리**: React Context API

## 프로젝트 구조

### 주요 디렉토리

- `/app`: Next.js App Router 구조의 페이지 및 라우팅
  - `/app/page.tsx`: 메인 페이지 (도구 목록)
  - `/app/tools/[toolId]/page.tsx`: 개별 도구 페이지 (동적 라우팅)
- `/components`: 재사용 가능한 컴포넌트
  - `/components/ui`: 기본 UI 컴포넌트
  - `/components/tools`: 각 도구별 컴포넌트
  - `/components/tools/{tool-name}`: 복잡한 도구의 하위 컴포넌트
- `/lib`: 유틸리티 함수 및 공통 로직
- `/public`: 정적 자산 (이미지, 사운드 등)
- `/styles`: 전역 스타일

## 코드 표준

### TypeScript 사용

- **필수**: 모든 컴포넌트와 함수에 명시적 타입 지정
- **필수**: 명확한 인터페이스와 타입 정의
- **금지**: `any` 타입 사용. 대신 구체적인 타입 사용
- **권장**: 유니온 타입을 사용하여 제한된 값 집합 표현

### 컴포넌트 구조

- **필수**: 클라이언트 컴포넌트에 "use client" 지시문 포함
- **필수**: 함수형 컴포넌트와 React Hooks 사용
- **필수**: Props 인터페이스를 컴포넌트 위에 정의
- **금지**: 클래스 컴포넌트 사용

### 코드 구성

- **필수**: import 문을 그룹별로 정렬 (React, Next.js, 외부 라이브러리, 내부 컴포넌트)
- **필수**: 큰 함수는 더 작은 함수로 분리
- **권장**: 주석은 복잡한 로직이나 중요한 결정 사항을 설명할 때만 사용

## UI 컴포넌트 표준

### Radix UI 사용

- **필수**: 기본 UI 요소는 Radix UI 컴포넌트 사용
- **필수**: 각 Radix 컴포넌트는 `/components/ui` 디렉토리에 래핑

### Tailwind CSS 사용

- **필수**: 인라인 스타일 대신 Tailwind 클래스 사용
- **필수**: 클래스 이름을 기능별로 그룹화 (레이아웃, 간격, 색상 등)
- **필수**: 조건부 클래스는 템플릿 문자열이나 clsx/tailwind-merge 사용
- **금지**: Tailwind 외의 CSS 프레임워크 혼용
- **금지**: 일관성 없는 색상 팔레트 사용

### 반응형 디자인

- **필수**: 모든 도구는 모바일 친화적 디자인 적용
- **필수**: Tailwind 반응형 프리픽스 사용 (sm:, md:, lg:, xl:)

### 다크 모드

- **필수**: 모든 컴포넌트는 다크 모드 지원
- **필수**: `dark:` 접두사 클래스 사용

## 상태 관리 표준

### Context API 사용

- **필수**: 복잡한 도구는 자체 Context Provider 사용
- **필수**: Context는 상태와 관련 함수를 함께 제공
- **필수**: Custom Hook으로 Context 접근 추상화 (예: usePomodoroContext)
- **금지**: Redux와 같은 외부 상태 관리 라이브러리 추가

### 로컬 상태 관리

- **필수**: useState와 useReducer를 적절히 사용
- **필수**: 폼 상태는 React Hook Form 사용
- **필수**: 영구 상태는 localStorage를 통해 관리

## 새 도구 추가 과정

### 컴포넌트 생성

1. `/components/tools` 디렉토리에 새 도구의 최상위 컴포넌트 파일 생성 (예: `new-tool.tsx`)
2. 복잡한 도구의 경우, 전용 하위 디렉토리 생성 (예: `/components/tools/new-tool/`)

### 라우팅 연결

1. `app/tools/[toolId]/page.tsx` 파일에서 새 도구 ID와 컴포넌트 매핑

### 메인 페이지 추가

1. `app/page.tsx`의 `tools` 배열에 새 도구 정보(id, name, description, icon 등) 추가

### 상태 관리 설정

1. 필요한 경우, Context API를 사용하여 도구별 상태 관리 로직 구현

## 기존 도구 수정 시 고려사항

### 인터페이스 일관성

- **필수**: 다른 도구들과 유사한 디자인 패턴과 UI 구성 유지
- **필수**: 색상 테마, 카드 구조, 버튼 스타일 등의 일관성 유지

### 모듈화

- **필수**: 복잡한 컴포넌트는 더 작은 하위 컴포넌트로 분리
- **필수**: 재사용 가능한 로직은 커스텀 훅으로 추출

## 포모도로 타이머 특화 패턴

### 컨텍스트 사용

- **필수**: `PomodoroContext.tsx`는 타이머의 전체 상태와 기능을 관리
- **필수**: 모든 하위 컴포넌트는 `usePomodoroContext` 훅을 통해 상태에 접근

### 모듈화된 컴포넌트

- **필수**: 타이머 표시, 컨트롤, 설정, 통계 등이 별도의 컴포넌트로 분리
- **필수**: 각 컴포넌트는 단일 책임을 가짐

### 사용자 설정 저장

- **필수**: localStorage를 사용하여 사용자 설정과 통계를 저장

### 알림 기능

- **필수**: 브라우저 알림 API를 사용하여 타이머 완료 시 알림 표시
- **필수**: 권한 관리와 폴백 메커니즘 구현

### 테스트 모드

- **필수**: 개발 및 테스트를 위한 특수 모드 유지
- **필수**: 타이머 시간 가속 기능 유지

## 성능 최적화 표준

### 메모이제이션

- **필수**: 무거운 계산은 useMemo 사용
- **필수**: 콜백 함수는 useCallback 사용
- **필수**: 불필요한 리렌더링을 방지하기 위해 React.memo 사용
- **금지**: 무거운 계산을 메모이제이션 없이 렌더링 함수 내에서 직접 수행

### 지연 로딩

- **권장**: 큰 컴포넌트나 라이브러리는 dynamic import 사용
- **권장**: 초기 로드에 필요하지 않은 자원은 지연 로딩

## 에러 처리 표준

### 사용자 친화적 에러

- **필수**: 사용자에게 유용한 오류 메시지 제공
- **필수**: 가능한 경우 폴백 UI 제공

### 예외 처리

- **필수**: try/catch 블록을 사용하여 예외를 적절히 처리
- **필수**: 비동기 함수의 오류는 항상 처리

## 금지된 작업

### 파일 구조 변경

- **금지**: 기존 폴더 구조 변경
- **금지**: 도구별 컴포넌트를 `/components/tools` 외부에 위치시키기
- **금지**: UI 컴포넌트를 `/components/ui` 외부에 위치시키기

### 컴포넌트 설계

- **금지**: 클래스 컴포넌트 사용
- **금지**: 일관성 없는 명명 규칙 사용
- **금지**: 과도하게 복잡한 컴포넌트 만들기

### 상태 관리

- **금지**: 전역 상태 남용
- **금지**: Redux와 같은 외부 상태 관리 라이브러리 추가
- **금지**: 컨텍스트 내에서 너무 많은 상태 관리

### 스타일링

- **금지**: 인라인 스타일 사용
- **금지**: Tailwind 외의 CSS 프레임워크 혼용
- **금지**: 일관성 없는 색상 팔레트 사용

### 성능

- **금지**: 불필요한 리렌더링을 유발하는 코드 작성
- **금지**: 무거운 계산을 메모이제이션 없이 렌더링 함수 내에서 직접 수행
- **금지**: 대용량 라이브러리를 필요 이상으로 임포트
